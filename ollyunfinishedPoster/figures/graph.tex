<<<<<<< HEAD
\documentclass{article}

\usepackage[latin1]{inputenc}
\usepackage{tikz}
\usetikzlibrary{calc} % for manimulation of coordinates
\usetikzlibrary{shapes,arrows,shadows,fit}

%%%<
\usepackage{verbatim}
\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{5pt}%
%%%>

\begin{document}
\pagestyle{empty}

\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

% Define block styles
\tikzstyle{rect} = [rectangle, draw]
\tikzstyle{circ} = [circle, draw]
\tikzstyle{arrow} = [->, draw]
\tikzstyle{rect2} = [rectangle, draw, rounded corners=0.5ex,
                     align=right, inner sep=10pt, inner ysep=10pt,
                     label={[xshift=-14pt,yshift=14pt]south east:#1}]

\begin{tikzpicture}[scale=1, auto]

  \node [circ] (xi) at (2,0) {$x_i$};
  \node [circ] at (0,0)  (zi) {$z_i$};
  \node [circ] at (-2,0) (pi) {$\pi$};
  \node [above of=pi, node distance=6mm] (k) {[K]};
  \node [rect, above of=k, node distance = 1.3cm] (beta) {$\beta$};

  \node [circ] at (1,2) (muk) {$\mu_k$};
  \node [below of=muk, node distance=6mm, scale = 0.5](D) {[D]};  
  \node [circ] at (3,2) (vark) {$\Sigma_k^2$}; 
  \node [below of=vark, node distance =6mm, scale = 0.5](DxD){[DxD]};

  \node [rect] at (0.5,3.5) (mu0) {$\mu_0$};
  \node [rect] at (1.5,3.5) (lambda) {$\lambda$};

  \node [rect] at (2.5,3.5) (nu) {$\nu$};
  \node [rect] at (3.5,3.5) (s0) {$s_o^2$};  
  
  \node [rect2=N, fit=(xi) (zi)] {};
  \node [rect2=K, fit=(muk) (vark)] {};

  \path [arrow] (zi) -- (xi);
  \path [arrow] (pi) -- (zi);
  \path [arrow] (beta) -- (k);
  \path [arrow] (muk) -- (xi);
  \path [arrow] (vark) -- (xi);
  \path [arrow] (vark) -- (muk);

  \path [arrow] (mu0) -- (muk);  
  \path [arrow] (lambda) -- (muk);  
  \path [arrow] (nu) -- (vark);  
  \path [arrow] (s0) -- (vark);  

  
\end{tikzpicture}  

\end{document}
=======
\documentclass{article}

\usepackage[latin1]{inputenc}
\usepackage{tikz}
\usetikzlibrary{calc} % for manimulation of coordinates
\usetikzlibrary{shapes,arrows,shadows,fit}

%%%<
\usepackage{verbatim}
\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{5pt}%
%%%>

\begin{document}
\pagestyle{empty}

\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

% Define block styles
\tikzstyle{rect} = [rectangle, draw]
\tikzstyle{circ} = [circle, draw]
\tikzstyle{arrow} = [->, draw]
\tikzstyle{rect2} = [rectangle, draw, rounded corners=0.5ex,
                     align=right, inner sep=10pt, inner ysep=10pt,
                     label={[xshift=-14pt,yshift=14pt]south east:#1}]

\begin{tikzpicture}[scale=1, auto]

  \node [circ] (xi) at (2,0) {$x_i$};
  \node [circ] at (0,0)  (zi) {$z_i$};
  \node [circ] at (-2,0) (pi) {$\pi$};
  \node [above of=pi, node distance=6mm] (k) {[K]};
  \node [rect, above of=k, node distance = 1.3cm] (beta) {$\beta$};

  \node [circ] at (1,2) (muk) {$\mu_k$};
  \node [below of=muk, node distance=6mm, scale = 0.5](D) {[D]};  
  \node [circ] at (3,2) (vark) {$\Sigma_k^2$}; 
  \node [below of=vark, node distance =6mm, scale = 0.5](DxD){[DxD]};

  \node [rect] at (0.5,3.5) (mu0) {$\mu_0$};
  \node [rect] at (1.5,3.5) (lambda) {$\lambda$};

  \node [rect] at (2.5,3.5) (nu) {$\nu$};
  \node [rect] at (3.5,3.5) (s0) {$s_o^2$};  
  
  \node [rect2=N, fit=(xi) (zi)] {};
  \node [rect2=K, fit=(muk) (vark)] {};

  \path [arrow] (zi) -- (xi);
  \path [arrow] (pi) -- (zi);
  \path [arrow] (beta) -- (k);
  \path [arrow] (muk) -- (xi);
  \path [arrow] (vark) -- (xi);
  \path [arrow] (vark) -- (muk);

  \path [arrow] (mu0) -- (muk);  
  \path [arrow] (lambda) -- (muk);  
  \path [arrow] (nu) -- (vark);  
  \path [arrow] (s0) -- (vark);  

  
\end{tikzpicture}  

\end{document}
>>>>>>> origin/master
